<div class="pixel-border bg-[#2a2a2a] mt-3 p-4 space-y-4">
    <div class="flex items-center space-x-4">
        <img src="{% if profile.avatar %}{{ profile.avatar.url }}{% else %}https://ui-avatars.com/api/?name={{ profile.username.0|upper }}&size=64&background=00f5d4&color=222{% endif %}" alt="User Avatar" id="avatar-preview" class="w-16 h-16 pixel-border object-cover" style="image-rendering: pixelated;">
        <input type="file" id="avatar-input" name="avatar" accept="image/*" capture="user" class="hidden">
        <button type="button" onclick="document.getElementById('avatar-input').click();" class="pixel-button px-3 py-2 font-pixel text-xs text-gray-300">CHANGE AVATAR</button>
    </div>
    <div>
        <label class="font-pixel text-sm text-gray-400">USERNAME</label>
        {{ form.username }}
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
            <label class="font-pixel text-sm text-gray-400">HEIGHT</label>
            <div class="flex items-center space-x-2 mt-1">
                <div class="relative w-full">
                    {{ form.height_ft }}
                    <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm pointer-events-none">ft</span>
                </div>
                <div class="relative w-full">
                    {{ form.height_in }}
                    <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm pointer-events-none">in</span>
                </div>
            </div>
            <script>
                document.getElementById('avatar-input').addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            document.getElementById('avatar-preview').src = e.target.result;
                        };
                        reader.readAsDataURL(file);
                    }
                });
            </script>
        </div>
        <div>
            <label class="font-pixel text-sm text-gray-400">WEIGHT</label>
            <div class="flex items-center space-x-2 mt-1">
                {{ form.weight }}
                <select class="pixel-select w-24 flex-shrink-0" style="background-color: #1c1c1c !important; border: 2px solid #444 !important; box-shadow: inset -2px -2px 0px 0px #000, inset 2px 2px 0px 0px #555 !important; font-family: &quot;Press Start 2P&quot;, cursive !important; color: #E0E0E0 !important; padding: 0.5rem !important; font-size: 12px !important; outline: none !important; -webkit-appearance: none !important; -moz-appearance: none !important; appearance: none !important;">
                    <option selected>lbs</option>
                    <option>kg</option>
                </select>
            </div>
        </div>
        <div>
            <label class="font-pixel text-sm text-gray-400">SEX</label>
            {{ form.sex }}
        </div>
    </div>
</div>