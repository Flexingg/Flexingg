{% extends 'base.html' %}
{% load static %}

{% block title %}Groups - Flexin.gg{% endblock %}

{% block content %}

<main class="flex-grow p-4 overflow-y-auto space-y-8 md:p-6">
    
    <!-- Find a Group Section (adapted from reference) -->
    <section>
        <h3 class="font-pixel text-lg text-theme-on-surface">FIND A GROUP</h3>
        <div class="relative mt-3">
            <input type="text" placeholder="Search groups..." class="pixel-input w-full pl-10">
            <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
            <a href="{% url 'social:create_group' %}" class="pixel-button w-full p-3 font-pixel text-sm text-green-400 text-center">CREATE GROUP</a>
            <!-- No join with code for now, as view doesn't support -->
        </div>

        <div class="mt-6 space-y-3">
            {% if groups %}
                {% for group in groups %}
                <div class="pixel-border bg-[#2a2a2a] p-3 flex items-center justify-between gap-3">
                    <div class="flex items-center gap-3">
                        <img src="https://placehold.co/48x48/a855f7/fff?text={{ group.name|slice:':2' }}" alt="{{ group.name }} Emblem" class="w-12 h-12 pixel-border object-cover">
                        <div>
                            <p class="font-pixel text-sm text-white">{{ group.name }}</p>
                            <p class="text-xs text-gray-400">{{ group.description|truncatewords:10 }}</p>
                            <!-- Members count would require view change, placeholder for now -->
                            <p class="text-xs text-gray-400">Members: ?/?</p>
                        </div>
                    </div>
                    <a href="{% url 'social:group_detail' group.id %}" class="pixel-button px-4 py-2 font-pixel text-xs text-cyan-300 flex-shrink-0">VIEW</a>
                </div>
                {% endfor %}
            {% else %}
                <p class="font-pixel text-sm text-gray-400 mt-4">No groups available.</p>
            {% endif %}
        </div>
    </section>
</main>

<!-- No modals for now -->
{% endblock content %}