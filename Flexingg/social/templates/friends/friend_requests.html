{% extends 'base.html' %}

{% block title %}Friend Requests - Flexin.gg{% endblock title %}

{% block content %}
<div class="p-4 space-y-6 md:p-6">
    <h1 class="font-pixel text-2xl text-white tracking-wider">FRIEND REQUESTS</h1>
    
    <section>
        <h3 class="font-pixel text-lg text-yellow-300">PENDING REQUESTS ({{ requests|length }})</h3>
        <div class="mt-3 space-y-3">
            {% if requests %}
                {% for request in requests %}
                <div class="pixel-border bg-[#2a2a2a] p-3 flex items-center justify-between">
                    <div class="flex items-center">
                        <img src="https://placehold.co/48x48/b45309/fff?text={{ request.from_user.username.0|upper }}" alt="{{ request.from_user.username }} Avatar" class="w-12 h-12 pixel-border object-cover">
                        <div class="ml-4">
                            <p class="font-pixel text-sm text-white">{{ request.from_user.username }}</p>
                            <p class="text-xs text-gray-400">Level 67 Samurai</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <a href="{% url 'friends:accept_friend_request' request.id %}" class="pixel-button p-2 bg-green-400">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>
                            </svg>
                        </a>
                        <a href="{% url 'friends:decline_friend_request' request.id %}" class="pixel-button p-2 bg-red-500">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                            </svg>
                        </a>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <p class="text-gray-400 font-pixel">You have no pending friend requests.</p>
            {% endif %}
        </div>
    </section>

    <a href="{% url 'friends:friend_list' %}" class="block w-full text-center pixel-button p-3 font-pixel text-sm text-white">Back to Friends List</a>
</div>
{% endblock content %}